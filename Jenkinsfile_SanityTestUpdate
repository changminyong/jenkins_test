
properties(
  [
    parameters([
      booleanParam(defaultValue: false, description: 'if merged', name: 'IF_MERGED')
    ])
  ]
)

// PIPELINE
pipeline {
  agent any
  stages {
    stage('PRE-PROCESS-SANITY-TEST-UPDATE') {
      steps {
          bat 'echo PRE-PROCESS-SANITY-TEST-UPDATE'
      }
    }
    stage('merged') {
      when {
        expression { params.IF_MERGED == true }
      }
      
      steps {
          bat 'echo merged'
          echo "echo ${env.GIT_COMMIT} > ${Global.BASE_RESULT_PATH_WIN}\\commit_id.txt" 
          bat("xcopy ${Global.BASE_RESULT_PATH_WIN} ${Global.BASE_RESULT_PATH_WIN}_${Global.GIT_COMMIT} /I /E /H /Y")
      }
    }
  }
  
}
